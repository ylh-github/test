package code_fb_cg.util;

import java.util.ArrayList;
import java.util.Date;
import java.util.List;
import java.util.Map;

import code_fb.entity.CLAUSE_M1S1;
import code_fb_cg.entity.TbCgcontract;
import code_fb_cg.entity.TbSupplier;
import code_fb_cg.entity.TpCgcontractmt;
import code_fb_cg.entity.TpCgcontractmtt;
import code_fb_cg.entity.TpCgcontractst;
import code_fb_cg.entity.TpCgcontractstt;
import code_fb_cg.entity.TpCgorderst;
import code_fb_cg.request.DelInformation;
import code_fb_cg.request.TP_SimContract;
import code_fb_cg.request.TpCgorderRequest;
import transfer.BIGString;
import transfer.RandomId;
import vip.toda.piper.auth.web.client.User;

/**
 * 模拟合同时的工具类
 * @author lhb
 * @时间：2019年2月19日上午11:02:22
 */
public class ContractUtil {
	BIGString bigs = new BIGString();
	// 实例化合同ID主键
	RandomId ri = new RandomId();
	String id = ri.getRandomId();
	/**
	 * 添加合同主表信息
	 * @param tpCgorderRequest 
	 * @param user 
	 * @param delInformation 
	 * @param tpCgcontractmt 
	 * @param tpCgcontractmt
	 * @return
	 */
//	public TpCgcontractmt addTpCgcontractmt(User user, TpCgcontractmt data, List<TpCgorderRequest> list) {
	public TpCgcontractmtt addTpCgcontractmt(User user, TP_SimContract tP_SimContract, DelInformation delInformation, TpCgcontractmt tpCgcontractmt) {
	
		TpCgcontractmtt tpCgcontract = new TpCgcontractmtt();
		TpCgcontractmt data = tP_SimContract.getTpCgcontractmt();
		TpCgorderRequest tpCgorderRequest = tP_SimContract.getTpCgorderRequest().get(0);
		tpCgcontract.setcId(id);
		tpCgcontract.setcConnum(data.getcConnum().replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));//合同号
		//签订公司
		if(tpCgcontractmt.getcCludecom() == null) {
			tpCgcontract.setcCludecom("");
		}else {
			tpCgcontract.setcCludecom(tpCgcontractmt.getcCludecom());
		}
		//外贸合同号
		if(data.getcOutconnum()== null) {
			tpCgcontract.setcOutconnum("");
		}else {
			tpCgcontract.setcOutconnum(data.getcOutconnum());
		}
		
		//签订地址
//		if(data.getcCludeaddr() == null) {
//			tpCgcontract.setcCludeaddr("");
//		}else {
//			tpCgcontract.setcCludeaddr(data.getcCludeaddr().replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));//签订地址
//		}
		if(data.getcSignplace() == null) {
			tpCgcontract.setcSignplace("");
		}else {
			tpCgcontract.setcSignplace(data.getcSignplace());//签订地址
		}
		System.out.println();
		//签订时间
		if(data.getcCludetime() == null) {
			tpCgcontract.setcCludetime(null);
		}else {
			tpCgcontract.setcCludetime(data.getcCludetime());
		}
		if(data.getcSupplier() == null) {
			tpCgcontract.setcSupplier("");
		}else {
			tpCgcontract.setcSupplier(data.getcSupplier());//供应商
		}
		if(tpCgorderRequest.getcGoodsname() == null) {
			tpCgcontract.setcSw03("");
		}else {
			tpCgcontract.setcSw03(tpCgorderRequest.getcGoodsname());// 货物名称
		}
		if(tpCgorderRequest.getcManor() == null) {
			tpCgcontract.setcSw10("");
		}else {
			tpCgcontract.setcSw10(tpCgorderRequest.getcManor());//采购员
		}
		
		if(tP_SimContract.getPaywayRequest().getcPayway()==null) {
			tpCgcontract.setcPayway("");
		}else {
			tpCgcontract.setcPayway(tP_SimContract.getPaywayRequest().getcPayway());//付款方式
		}
		Double dbValue = 0.000;
//		int intValue = 0;
		for (TpCgorderRequest tpCgorder : tP_SimContract.getTpCgorderRequest()) {
			String getcSumprice = tpCgorder.getcSumprice();
			if(getcSumprice == null) {
				getcSumprice ="0.00";
			}
			System.out.println("getcSumprice::::"+getcSumprice);
			dbValue += Double.valueOf(getcSumprice).doubleValue();
//			intValue += Integer.valueOf(tpCgorder.getcSumprice()).intValue();
			System.out.println("合同金额累加:::"+dbValue);
		}
		System.out.println("合同金额::"+dbValue);
		tpCgcontract.setcConmoney(""+dbValue);
		//送/收货地点 目的地
		System.out.println("交货地点：：：：："+delInformation.getcDelivplace());
		if(delInformation.getcDelivplace() == null) {
			tpCgcontract.setcCludeaddr("");
			tpCgcontract.setcSw09("");
		}else {
			tpCgcontract.setcCludeaddr(delInformation.getcDelivplace());//交货地点
			tpCgcontract.setcSw09(delInformation.getcDelivplace());
		}
		// 验收方式
		tpCgcontract.setcCheckway("0");
		// 签字步骤-付款情况
		tpCgcontract.setcSignstep("0");
		// 运输方式-开票信息
		tpCgcontract.setcTransway("0");
		// 备注
		tpCgcontract.setcRemark(null);
		// 合同状态
		tpCgcontract.setcState("3");
		tpCgcontract.setcCreater(user.getUserName());
		// 创建时间
		tpCgcontract.setcCreatetime(new Date());
		// 外贸号-存档号
		tpCgcontract.setcSw05(tpCgorderRequest.getcNo());
		
		return tpCgcontract;
		
	}

	/**
	 * 添加合同详情表
	 * @param user
	 * @param tpCgcontractmt
	 * @param tpCgorderRequest
	 * @param tbSupplier
	 */
	/*public List<TbCgcontract> addTbCgcontract(User user, TpCgcontractmt data, List<TpCgorderRequest> tpCgorderRequest,
	 * TbSupplier tbSupplier) */
	
	public List<TbCgcontract> addTbCgcontract(User user, TP_SimContract tP_SimContract) {
			//合同物资信息
		  List<TpCgorderRequest> tpCgorderRequest = tP_SimContract.getTpCgorderRequest();
		  //合同号等基本信息
		  TpCgcontractmt data = tP_SimContract.getTpCgcontractmt();
		  //供应商
		  TbSupplier tbSupplier = tP_SimContract.getTbSupplier();
		  //合同条款
		  CLAUSE_M1S1 clause_M1S1 = tP_SimContract.getClause_M1S1();
		  List<TbCgcontract> tbCgcontractList = new ArrayList<TbCgcontract>();
//		for (TpCgorderRequest tpCgorder : tpCgorderRequest) {
			TbCgcontract tbCgcontract = new TbCgcontract();
			//签订公司
//			tbCgcontract.setcCludecom(get_data_value(data.getcCludecom(),"签订公司").replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));
			System.out.println("签订公司+++++++++++++"+data.getcCludecom());
			
			
			
			if(data.getcCludecom() == null) {
				tbCgcontract.setcCludecom("");
			}else {
				tbCgcontract.setcCludecom(data.getcCludecom());
			}
			//合同号
			if(data.getcConnum() == null) {
				tbCgcontract.setcConnum("");
			}else {
				tbCgcontract.setcConnum(data.getcConnum());
			}
			if(data.getcCludeaddr() == null) {
				tbCgcontract.setcCludeaddr("");
			}else {
				tbCgcontract.setcCludeaddr(data.getcCludeaddr().replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));//签订地址
			}
			tbCgcontract.setcCludetime(data.getcCludetime());//签订时间
			if(data.getcSupplier() == null) {
				tbCgcontract.setcSupplier("");
			}else{
				tbCgcontract.setcSupplier(data.getcSupplier());//供应商
			}
			if(tP_SimContract.getDelInformation().getcDelivdate() == null) {
				tbCgcontract.setcDelivdate("");
			}else {
				tbCgcontract.setcDelivdate(tP_SimContract.getDelInformation().getcDelivdate());//交货期限
			}
			//交货地点
			System.out.println("工具类交货地点：：："+tP_SimContract.getDelInformation().getcDelivplace());
			if(tP_SimContract.getDelInformation().getcDelivplace() == null) {
				tbCgcontract.setcDelivplace("");
			}else {
				tbCgcontract.setcDelivplace(tP_SimContract.getDelInformation().getcDelivplace());
			}
			if(tP_SimContract.getPaywayRequest().getcPayway()==null) {
				tbCgcontract.setcPayway("");
			}else {
				tbCgcontract.setcPayway(tP_SimContract.getPaywayRequest().getcPayway());//付款方式
			}
//			if(tP_SimContract.getSignplaceRequest().getcSignplace()==null) {
//				tbCgcontract.setcSignplace("");
//			}else {
//				tbCgcontract.setcSignplace(tP_SimContract.getSignplaceRequest().getcSignplace());//验收地点
//			}
			if(tbSupplier.getcAccountno()==null) {
				tbCgcontract.setcAccountnor("");
			}else {
				tbCgcontract.setcAccountnor(tbSupplier.getcAccountno());//供应商账号号
			}
			if(tbSupplier.getcSupaddress() == null) {
				tbCgcontract.setcSupaddress("");
			}else {
				tbCgcontract.setcSupaddress(tbSupplier.getcSupaddress());//供应商地址
			}
			if(tbSupplier.getcBankname()==null) {
				tbCgcontract.setcBanknamer("");
			}else {
				tbCgcontract.setcBanknamer(tbSupplier.getcBankname());//供应商开户行
			}
			if(tbSupplier.getcSupphone() == null) {
				tbCgcontract.setcSupphone("");
			}else {
				tbCgcontract.setcSupphone(tbSupplier.getcSupphone());//供应商电话 
			}
			
			tbCgcontract.setcTaxnumber(tbSupplier.getcTaxnumber());//供应商税号
			tbCgcontract.setcFaxnor(tbSupplier.getcFaxno());//供应商传真
			tbCgcontract.setcBankname(tP_SimContract.getTbCludecompany().getcCombankname());//需方开户行
			tbCgcontract.setcAccountno(tP_SimContract.getTbCludecompany().getcComaccountno());//需方账号
			tbCgcontract.setcTaxnumbe(tP_SimContract.getTbCludecompany().getcComtaxnumber());//需方税号
			tbCgcontract.setcPhoner(tP_SimContract.getTbCludecompany().getcComphone());//需方电话
			tbCgcontract.setcAddressr(tP_SimContract.getTbCludecompany().getcComaddress());//需方地址
			tbCgcontract.setcFaxno(tP_SimContract.getTbCludecompany().getcComfaxno());//需方传真
//			tbCgcontract.setcSw10(tpCgorder.getcManor());//采购员
			tbCgcontract.setcCreater(user.getUserName());//创建人
			tbCgcontract.setcCreatetime(new Date());//创建时间
			tbCgcontract.setcState("3");// 合同状态
			/*if(clause_M1S1.getcContypeTpCgclausedata() == null) {
				tbCgcontract.setcContype("");
			}else {
				tbCgcontract.setcContype(clause_M1S1.getcContypeTpCgclausedata());//合同模板类型
			}*/
			
//			if(clause_M1S1.getcSw01TpCgclausedata() == null) {
//				tbCgcontract.setcSw01("");
//			}else {
//				tbCgcontract.setcSw01(clause_M1S1.getcSw01TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw02TpCgclausedata() == null) {
//				tbCgcontract.setcSw02("");
//			}else {
//				tbCgcontract.setcSw02(clause_M1S1.getcSw02TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw03TpCgclausedata() == null ) {
//				tbCgcontract.setcSw03("");
//			}else {
//				tbCgcontract.setcSw03(clause_M1S1.getcSw03TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw04TpCgclausedata() == null) {
//				tbCgcontract.setcSw04("");
//			}else {
//				tbCgcontract.setcSw04(clause_M1S1.getcSw04TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw05TpCgclausedata() == null) {
//				tbCgcontract.setcSw05("");
//			}else {
//				tbCgcontract.setcSw05(clause_M1S1.getcSw05TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw06TpCgclausedata() == null) {
//				tbCgcontract.setcSw06("");
//			}else {
//				tbCgcontract.setcSw06(clause_M1S1.getcSw06TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw07TpCgclausedata() == null) {
//				tbCgcontract.setcSw07("");
//			}else {
//				tbCgcontract.setcSw07(clause_M1S1.getcSw07TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw08TpCgclausedata() == null) {
//				tbCgcontract.setcSw08("");
//			}else {
//				tbCgcontract.setcSw08(clause_M1S1.getcSw08TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw08TpCgclausedata() == null) {
//				tbCgcontract.setcSw09(clause_M1S1.getcSw08TpCgclausedata());
//			}else {
//				tbCgcontract.setcSw09(clause_M1S1.getcSw08TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw10TpCgclausedata() == null) {
//				tbCgcontract.setcSw10(clause_M1S1.getcSw10TpCgclausedata());
//			}else {
//				tbCgcontract.setcSw10(clause_M1S1.getcSw10TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw11TpCgclausedata() == null ) {
//				tbCgcontract.setcSw11("");
//			}else {
//				tbCgcontract.setcSw11(clause_M1S1.getcSw11TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw12TpCgclausedata() == null) {
//				tbCgcontract.setcSw12("");
//			}else {
//				tbCgcontract.setcSw12(clause_M1S1.getcSw12TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw13TpCgclausedata() == null) {
//				tbCgcontract.setcSw13("");
//			}else {
//				tbCgcontract.setcSw13(clause_M1S1.getcSw13TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw14TpCgclausedata() == null) {
//				tbCgcontract.setcSw14("");
//			}else {
//				tbCgcontract.setcSw14(clause_M1S1.getcSw14TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw15TpCgclausedata() == null) {
//				tbCgcontract.setcSw15("");
//			}else {
//				tbCgcontract.setcSw15(clause_M1S1.getcSw15TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw16TpCgclausedata() == null) {
//				tbCgcontract.setcSw16("");
//			}else {
//				tbCgcontract.setcSw16(clause_M1S1.getcSw16TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw17TpCgclausedata()== null) {
//				tbCgcontract.setcSw17("");
//			}else {
//				tbCgcontract.setcSw17(clause_M1S1.getcSw17TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw18TpCgclausedata() == null) {
//				tbCgcontract.setcSw18("");
//			}else {
//				tbCgcontract.setcSw18(clause_M1S1.getcSw18TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw19TpCgclausedata() == null) {
//				tbCgcontract.setcSw19("");
//			}else {
//				tbCgcontract.setcSw19(clause_M1S1.getcSw19TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw20TpCgclausedata() == null) {
//				tbCgcontract.setcSw20("");
//			}else {
//				tbCgcontract.setcSw20(clause_M1S1.getcSw20TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw21TpCgclausedata() == null) {
//				tbCgcontract.setcSw21("");
//			}else {
//				tbCgcontract.setcSw21(clause_M1S1.getcSw21TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw22TpCgclausedata() == null) {
//				tbCgcontract.setcSw22("");
//			}else {
//				tbCgcontract.setcSw22(clause_M1S1.getcSw22TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw23TpCgclausedata() == null) {
//				tbCgcontract.setcSw23("");
//			}else {
//				tbCgcontract.setcSw23(clause_M1S1.getcSw23TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw24TpCgclausedata() == null) {
//				tbCgcontract.setcSw24("");
//			}else {
//				tbCgcontract.setcSw24(clause_M1S1.getcSw24TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw25TpCgclausedata() == null) {
//				tbCgcontract.setcSw25("");
//			}else {
//				tbCgcontract.setcSw25(clause_M1S1.getcSw25TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw26TpCgclausedata() == null) {
//				tbCgcontract.setcSw26("");
//			}else {
//				tbCgcontract.setcSw26(clause_M1S1.getcSw26TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw27TpCgclausedata() == null) {
//				tbCgcontract.setcSw27("");
//			}else {
//				tbCgcontract.setcSw27(clause_M1S1.getcSw27TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw28TpCgclausedata() == null) {
//				tbCgcontract.setcSw28("");
//			}else {
//				tbCgcontract.setcSw28(clause_M1S1.getcSw28TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw29TpCgclausedata() == null) {
//				tbCgcontract.setcSw29("");
//			}else {
//				tbCgcontract.setcSw29(clause_M1S1.getcSw29TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw30TpCgclausedata() == null) {
//				tbCgcontract.setcSw30("");
//			}else {
//				tbCgcontract.setcSw30(clause_M1S1.getcSw30TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw31TpCgclausedata() == null) {
//				tbCgcontract.setcSw31("");
//			}else {
//				tbCgcontract.setcSw31(clause_M1S1.getcSw31TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw32TpCgclausedata() == null) {
//				tbCgcontract.setcSw32("");
//			}else {
//				tbCgcontract.setcSw32(clause_M1S1.getcSw32TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw33TpCgclausedata() == null) {
//				tbCgcontract.setcSw33("");
//			}else {
//				tbCgcontract.setcSw33(clause_M1S1.getcSw33TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw34TpCgclausedata() == null) {
//				tbCgcontract.setcSw34("");
//			}else {
//				tbCgcontract.setcSw34(clause_M1S1.getcSw34TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw35TpCgclausedata() == null) {
//				tbCgcontract.setcSw35("");
//			}else {
//				tbCgcontract.setcSw35(clause_M1S1.getcSw35TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw36TpCgclausedata() == null) {
//				tbCgcontract.setcSw36("");
//			}else {
//				tbCgcontract.setcSw36(clause_M1S1.getcSw36TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw37TpCgclausedata() == null) {
//				tbCgcontract.setcSw37("");
//			}else {
//				tbCgcontract.setcSw37(clause_M1S1.getcSw37TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw38TpCgclausedata() == null) {
//				tbCgcontract.setcSw38("");
//			}else {
//				tbCgcontract.setcSw38(clause_M1S1.getcSw38TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw39TpCgclausedata() == null) {
//				tbCgcontract.setcSw39("");
//			}else {
//				tbCgcontract.setcSw39(clause_M1S1.getcSw39TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw40TpCgclausedata() == null) {
//				tbCgcontract.setcSw40("");
//			}else {
//				tbCgcontract.setcSw40(clause_M1S1.getcSw40TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw41TpCgclausedata() == null) {
//				tbCgcontract.setcSw41("");
//			}else {
//				tbCgcontract.setcSw41(clause_M1S1.getcSw41TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw42TpCgclausedata() == null) {
//				tbCgcontract.setcSw42("");
//			}else {
//				tbCgcontract.setcSw42(clause_M1S1.getcSw42TpCgclausedata());
//			}
//			if(clause_M1S1.getcSw43TpCgclausedata() == null) {
//				tbCgcontract.setcSw43("");
//			}else {
//				tbCgcontract.setcSw43(clause_M1S1.getcSw43TpCgclausedata());
//			}
			
			tbCgcontractList.add(tbCgcontract);
			
//		}
		return tbCgcontractList;
	}

	/**
	 * 合同添加数据时，更新请购物资表
	 * @param list 
	 * @param tpCgcontractmt 
	 * @param user 
	 * 
	 */
	public List<TpCgorderst> updateTpCgorderst(User user, TpCgcontractmt tpCgcontractmt, List<TpCgorderRequest> list) {
		List<TpCgorderst>  tpCgorderstList = new ArrayList<TpCgorderst>();
		for (TpCgorderRequest tpCgorderRequest : list) {
			TpCgorderst tpCgorderst = new TpCgorderst();
			tpCgorderst.setcId(tpCgorderRequest.getcId());//物资主键
			tpCgorderst.setcSw10(tpCgcontractmt.getcConnum());//合同号
			tpCgorderst.setcState("1");//状态
			tpCgorderst.setcModifier(user.getUserName());
			tpCgorderst.setcModifytime(new Date());
			tpCgorderstList.add(tpCgorderst);
		}
		
		return tpCgorderstList;
		
	}

	/**
	 * 模拟合同添加时合并的问题
	 * @param newList2
	 * @param value111
	 * @param user
	 * @param map1 
	 */
	public TpCgcontractstt addTpCgcontractst(List<TpCgcontractstt> newList2, List<TpCgorderRequest> value111, User user, Map<String, List<TpCgorderRequest>> map1) {
		TpCgcontractstt tcst = new TpCgcontractstt();
		String spec = "";// 合并后的规格
		String num = "";// 合并后的数量
		String sw02 = "";// 合并后的物资单号
		String sw03 = "";// 合并后的请购单号
		String line = "";// 合并后的合同行号
		String unit = value111.get(0).getcUnit().replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]","");// 合并后的单位
		String name = value111.get(0).getcCustoms().replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", "");// 报关物资名称
		//报关物资规格
		if (value111.get(0).getcCuspec() == null) {
			tcst.setcSpec(null);
		} else {
			tcst.setcSpec(value111.get(0).getcCuspec().replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]",""));
		}
		String yname = "";//合并后的物资名称
		String orid = "";//合并后的合同行号
		for (int i = 0; i < value111.size(); i++) {
			if (value111.get(i).getcNum()!= null) {
				num += value111.get(i).getcNum() + "/";
			}
		}
		
		for (int j = 0; j < value111.size(); j++) {
			if (newList2.get(j).getcSpec() != null) {
				spec += newList2.get(j).getcSpec() + "/";
			}
			if (newList2.get(j).getcSw02() != null) {
				sw02 += newList2.get(j).getcSw02() + "/";
			}
			if (newList2.get(j).getcSw03() != null) {
				sw03 += newList2.get(j).getcSw03() + "/";
			}
			if (newList2.get(j).getcConline() != null) {
				line += newList2.get(j).getcConline() + "/";
			}
			if (newList2.get(j).getcOrid() != null) {
				orid += newList2.get(j).getcOrid() + "/";
			}
			if (newList2.get(j).getcGoodsname() != null) {
				yname += newList2.get(j).getcGoodsname() + "/";
			}
		}
		
		if (spec.equals("")) {
			spec = null;
		} else {
			spec = spec.substring(0, spec.length() - 1).replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", "");
		}
		if (sw02.length() == 0) {
			System.out.println(sw02);
		} else {
			sw02 = sw02.substring(0, sw02.length() - 1).replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", "");
		}
		if (sw03.length() == 0) {
			System.out.println(sw03);
		} else {
			sw03 = sw03.substring(0, sw03.length() - 1).replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", "");
		}
		if (line.length() == 0) {
			System.out.println(line);
		} else {
			line = line.substring(0, line.length() - 1).replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", "");
		}
		if (orid.length() == 0) {
			System.out.println(orid);
		} else {
			orid = orid.substring(0, orid.length() - 1).replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", "");
		}
		if (yname.length() == 0) {
			System.out.println(yname);
		} else {
			yname = yname.substring(0, yname.length() - 1).replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", "") + "等";
		}
		if (num.length() == 0) {
			System.out.println(num);
		} else {
			num = num.substring(0, num.length() - 1).replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", "");
			System.out.println("合并后的数量：："+num);
		}
		String sss = bigs.get_Goodsnum2(unit, num);// 合并后的数量
		System.out.println(sss);
		if (newList2.get(0).getcMtid() == null) {
			
			tcst.setcMtid(null);
		} else {
			tcst.setcMtid(newList2.get(0).getcMtid().replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));
		}
		if (yname.length() == 0) {
			System.out.println(yname);
			tcst.setcGoodsname(null);
		} else {
			tcst.setcGoodsname(yname.replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));// 原多个物资名称
		}
		if (name.length() == 0) {
			System.out.println(name);
			tcst.setcSw08(null);
		} else {
			tcst.setcSw08(name.replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));// 报关名称
		}
		if (unit.length() == 0) {
			System.out.println(unit);
			tcst.setcUnit(null);
		} else {
			tcst.setcUnit(unit.replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));
		}
		if (line.length() == 0) {
			System.out.println(line);
			tcst.setcConline(null);
		} else {
			tcst.setcConline(line.replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));
		}
		if (sss.length() == 0) {
			System.out.println(sss);
			tcst.setcGoodsnum(null);
		} else {
			tcst.setcGoodsnum(sss);
		}
		tcst.setcGroudtotalnum("0");
		if (sss.length() == 0) {
			System.out.println(sss);
		} else {
			tcst.setcResiduenum(sss);
		}
		tcst.setcArrallyorn("0");
		tcst.setcState("3");
		tcst.setcCheckyorn("0");
		if (orid.length() == 0) {
			System.out.println(orid);
			tcst.setcOrid(null);
		} else {
			tcst.setcOrid(orid.replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));
		}
		if (newList2.get(0).getcDr().length() == 0) {
			System.out.println(newList2.get(0).getcDr());
			tcst.setcDr(null);
		} else {
			tcst.setcDr(newList2.get(0).getcDr());
		}
		tcst.setcTimestamp(new Date());
		tcst.setcCreater(newList2.get(0).getcCreater());
		tcst.setcCreatetime(newList2.get(0).getcCreatetime());
		if (sw02.length() == 0) {
			System.out.println(sw02);
			tcst.setcSw02(null);
		} else {
			tcst.setcSw02(sw02.replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));
		}
		if (sw03.length() == 0) {
			System.out.println(sw03);
			tcst.setcSw03(null);
		} else {
			tcst.setcSw03(sw03.replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));
		}
		tcst.setcSw04("0");
		// -N后面代表有多少个物资合并成
		if (newList2.size() < 10) {
			tcst.setcSw05(newList2.get(0).getcSw05().replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", "") + "-N000" + (map1.size()));
		}
		if (10 <= (newList2.size()) && (newList2.size()) < 100) {
			tcst.setcSw05(newList2.get(0).getcSw05().replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", "") + "-N00" + (map1.size()));
		}
		if (100 <= (newList2.size()) && (newList2.size()) < 1000) {
			tcst.setcSw05(newList2.get(0).getcSw05().replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", "") + "-N0" + (map1.size()));
		}
		if (1000 <= (newList2.size()) && (newList2.size()) < 10000) {
			tcst.setcSw05(newList2.get(0).getcSw05().replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", "") + "-N" + (map1.size()));
		}
		tcst.setcConnum(newList2.get(0).getcConnum().replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));
		
		if(newList2.get(0).getcRemark()==null) {
			tcst.setcRemark(value111.get(0).getcRemark());
		}else {
			tcst.setcRemark(newList2.get(0).getcRemark());
		}
		return tcst;
	}

	public TpCgcontractmtt updateTpCgcontractmt(User user, TP_SimContract tP_SimContract, DelInformation delInformation, TpCgcontractmt tpCgcontractmt) {
		TpCgcontractmtt tpCgcontract = new TpCgcontractmtt();
		TpCgcontractmt data = tP_SimContract.getTpCgcontractmt();
		TpCgorderRequest tpCgorderRequest = tP_SimContract.getTpCgorderRequest().get(0);
//		tpCgcontract.setcId(id);
		tpCgcontract.setcConnum(data.getcConnum().replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));//合同号
		//签订公司
		System.out.println("签订公司========="+tpCgcontractmt.getcCludecom());
		if(tpCgcontractmt.getcCludecom() == null) {
			tpCgcontract.setcCludecom("");
		}else {
			tpCgcontract.setcCludecom(tpCgcontractmt.getcCludecom());
		}
		//外贸合同号
		if(data.getcOutconnum()== null) {
			tpCgcontract.setcOutconnum("");
		}else {
			tpCgcontract.setcOutconnum(data.getcOutconnum());
		}
		
		//签订地址
//		if(data.getcCludeaddr() == null) {
//			tpCgcontract.setcCludeaddr("");
//		}else {
//			tpCgcontract.setcCludeaddr(data.getcCludeaddr().replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));//签订地址
//		}
		if(data.getcSignplace() == null) {
			tpCgcontract.setcSignplace("");
		}else {
			tpCgcontract.setcSignplace(data.getcSignplace());//签订地址
		}
		//签订时间
		if(data.getcCludetime() == null) {
			tpCgcontract.setcCludetime(null);
		}else {
			tpCgcontract.setcCludetime(data.getcCludetime());
		}
		if(data.getcSupplier() == null) {
			tpCgcontract.setcSupplier("");
		}else {
			tpCgcontract.setcSupplier(data.getcSupplier());//供应商
		}
		if(tpCgorderRequest.getcGoodsname() == null) {
			tpCgcontract.setcSw03("");
		}else {
			tpCgcontract.setcSw03(tpCgorderRequest.getcGoodsname());// 货物名称
		}
//		System.out.println("采购员：："+data.getcSw10());
		//采购员
		if(data.getcSw10() == null) {
			tpCgcontract.setcSw10("");
		}else {
			tpCgcontract.setcSw10(data.getcSw10());
		}
//		System.out.println("采购员======="+data.getcSw10());
		if(tP_SimContract.getPaywayRequest().getcPayway()==null) {
			tpCgcontract.setcPayway("");
		}else {
			tpCgcontract.setcPayway(tP_SimContract.getPaywayRequest().getcPayway());//付款方式
		}
		Double dbValue = 0.000;
//		int intValue = 0;
		for (TpCgorderRequest tpCgorder : tP_SimContract.getTpCgorderRequest()) {
			String getcSumprice = tpCgorder.getcSumprice();
			if(getcSumprice == null) {
				getcSumprice ="0.00";
			}
//			System.out.println("getcSumprice::::"+getcSumprice);
			dbValue += Double.valueOf(getcSumprice).doubleValue();
//			intValue += Integer.valueOf(tpCgorder.getcSumprice()).intValue();
//			System.out.println("合同金额累加:::"+dbValue);
		}
//		System.out.println("合同金额::"+dbValue);
		tpCgcontract.setcConmoney(""+dbValue);
		//送/收货地点 目的地
//		System.out.println("交货地点;;;;;;;;;;;"+delInformation.getcDelivplace());
		if(delInformation.getcDelivplace() == null) {
			tpCgcontract.setcCludeaddr("");
			tpCgcontract.setcSw09("");
		}else {
			tpCgcontract.setcCludeaddr(delInformation.getcDelivplace());//交货地点
			tpCgcontract.setcSw09(delInformation.getcDelivplace());
		}
		// 验收方式
		tpCgcontract.setcCheckway("0");
		// 签字步骤-付款情况
		tpCgcontract.setcSignstep("0");
		// 运输方式-开票信息
		tpCgcontract.setcTransway("0");
		// 备注
		tpCgcontract.setcRemark(null);
		// 合同状态
		tpCgcontract.setcState("3");
		tpCgcontract.setcCreater(user.getUserName());
		// 创建时间
		tpCgcontract.setcCreatetime(new Date());
		// 外贸号-存档号
		tpCgcontract.setcSw05(tpCgorderRequest.getcNo());
		tpCgcontract.setcId(tP_SimContract.getTpCgcontractmtt().getcId());
		return tpCgcontract;
	}
//修改
	public List<TbCgcontract> uppdateTbCgcontract(User user, TP_SimContract tP_SimContract) {
		  List<TpCgorderRequest> tpCgorderRequest = tP_SimContract.getTpCgorderRequest();//合同物资信息
		  TpCgcontractmt data = tP_SimContract.getTpCgcontractmt();//合同号等基本信息
		  TbSupplier tbSupplier = tP_SimContract.getTbSupplier();//供应商
		  List<TbCgcontract> tbCgcontractList = new ArrayList<TbCgcontract>();
//		for (TpCgorderRequest tpCgorder : tpCgorderRequest) {
			TbCgcontract tbCgcontract = new TbCgcontract();
			if(data.getcConnum() == null) {
				tbCgcontract.setcConnum("");
			}else {
				tbCgcontract.setcConnum(data.getcConnum().replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));//合同号
			}
			System.out.println("合同详情的合同号：：：："+tbCgcontract.getcConnum());
			//签订公司
//			tbCgcontract.setcCludecom(get_data_value(data.getcCludecom(),"签订公司").replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));
			System.out.println("签订公司+++++++++++++"+data.getcCludecom());
			if(data.getcCludecom() == null) {
				tbCgcontract.setcCludecom("");
			}else {
				tbCgcontract.setcCludecom(data.getcCludecom());
			}
			if(data.getcCludeaddr() == null) {
				tbCgcontract.setcCludeaddr("");
			}else {
				tbCgcontract.setcCludeaddr(data.getcCludeaddr().replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));//签订地址
			}
			tbCgcontract.setcCludetime(data.getcCludetime());//签订时间
			if(data.getcSupplier() == null) {
				tbCgcontract.setcSupplier("");
			}else{
				tbCgcontract.setcSupplier(data.getcSupplier());//供应商
			}
//			if(tpCgorder.getcGoodsname() == null) {
//				tbCgcontract.setcGoodsname("");
//			}else {
//				tbCgcontract.setcGoodsname(tpCgorder.getcGoodsname());// 货物名称
//			}
//			if(tpCgorder.getcCustoms() == null) {
//				tbCgcontract.setcSw08("");
//			}else {
//				tbCgcontract.setcSw08(tpCgorder.getcCustoms());//报关物资名称
//			}
//			if(tpCgorder.getcNum() == null) {
//				tbCgcontract.setcNum("");
//			}else {
//				tbCgcontract.setcNum(tpCgorder.getcNum());//订购数量
//			}
//			if(tpCgorder.getcUnit() == null) {
//				tbCgcontract.setcUnit("");
//			}else {
//				tbCgcontract.setcUnit(tpCgorder.getcUnit());//单位
//			}
//			if(tpCgorder.getcSpec() == null) {
//				tbCgcontract.setcSpec("");
//			}else {
//				tbCgcontract.setcSpec(tpCgorder.getcSpec());//规格
//			}
//			if(tpCgorder.getcPrice() == null) {
//				tbCgcontract.setcUnitprice("");
//			}else {
//				tbCgcontract.setcUnitprice(tpCgorder.getcPrice());//含税单价
//			}
//			if(tpCgorder.getcSumprice() == null) {
//				tbCgcontract.setcTotaltax("");
//			}else {
//				tbCgcontract.setcTotaltax(tpCgorder.getcSumprice());//含税总价
//			}
//			if(tpCgorder.getcRemark() == null) {
//				tbCgcontract.setcRemark("");	
//			}else {
//				tbCgcontract.setcRemark(tpCgorder.getcRemarkc());//备注
//			}
//			if(tP_SimContract.getTechnology().getcSw01() == null) {
//				tbCgcontract.setcSw01("");
//			}else {
//				tbCgcontract.setcSw01(tP_SimContract.getTechnology().getcSw01());//质量技术
//			}
//			if(tP_SimContract.getTechnology().getcSw02()==null) {
//				tbCgcontract.setcSw02("");
//			}else {
//				tbCgcontract.setcSw02(tP_SimContract.getTechnology().getcSw02());//供方承诺
//			}
//			if(tP_SimContract.getBaoZInfo().getcSw03() == null) {
//				tbCgcontract.setcSw03("");
//			}else {
//				tbCgcontract.setcSw03(tP_SimContract.getBaoZInfo().getcSw03());//包装1
//			}
//			if(tP_SimContract.getBaoZInfo().getcSw04() == null) {
//				tbCgcontract.setcSw04("");
//			}else {
//				tbCgcontract.setcSw04(tP_SimContract.getBaoZInfo().getcSw04());//包装2
//			}
			if(tP_SimContract.getDelInformation().getcDelivdate() == null) {
				tbCgcontract.setcDelivdate("");
			}else {
				tbCgcontract.setcDelivdate(tP_SimContract.getDelInformation().getcDelivdate());//交货期限
			}
			//交货地点
			System.out.println("工具类交货地点：：："+tP_SimContract.getDelInformation().getcDelivplace());
			if(tP_SimContract.getDelInformation().getcDelivplace() == null) {
				tbCgcontract.setcDelivplace("");
			}else {
				tbCgcontract.setcDelivplace(tP_SimContract.getDelInformation().getcDelivplace());
			}
			if(tP_SimContract.getPaywayRequest().getcPayway()==null) {
				tbCgcontract.setcPayway("");
			}else {
				tbCgcontract.setcPayway(tP_SimContract.getPaywayRequest().getcPayway());//付款方式
			}
//			if(tP_SimContract.getSignplaceRequest().getcSignplace()==null) {
//				tbCgcontract.setcSignplace("");
//			}else {
//				tbCgcontract.setcSignplace(tP_SimContract.getSignplaceRequest().getcSignplace());//验收地点
//			}
			if(tbSupplier.getcAccountno()==null) {
				tbCgcontract.setcAccountnor("");
			}else {
				tbCgcontract.setcAccountnor(tbSupplier.getcAccountno());//供应商账号号
			}
			if(tbSupplier.getcSupaddress() == null) {
				tbCgcontract.setcSupaddress("");
			}else {
				tbCgcontract.setcSupaddress(tbSupplier.getcSupaddress());//供应商地址
			}
			if(tbSupplier.getcBankname()==null) {
				tbCgcontract.setcBanknamer("");
			}else {
				tbCgcontract.setcBanknamer(tbSupplier.getcBankname());//供应商开户行
			}
			if(tbSupplier.getcSupphone()==null) {
				tbCgcontract.setcPhoner("");
			}
			if(tbSupplier.getcSupphone() == null) {
				tbCgcontract.setcPhoner("");
			}else {
				tbCgcontract.setcPhoner(tbSupplier.getcSupphone());//供应商电话 
			}
			
			tbCgcontract.setcTaxnumber(tbSupplier.getcTaxnumber());//供应商税号
			tbCgcontract.setcFaxnor(tbSupplier.getcFaxno());//供应商传真
			tbCgcontract.setcBankname(tP_SimContract.getTbCludecompany().getcCombankname());//需方开户行
			tbCgcontract.setcAccountno(tP_SimContract.getTbCludecompany().getcComaccountno());//需方账号
			tbCgcontract.setcTaxnumbe(tP_SimContract.getTbCludecompany().getcComtaxnumber());//需方税号
			tbCgcontract.setcPhoner(tP_SimContract.getTbCludecompany().getcComphone());//需方电话
			tbCgcontract.setcAddressr(tP_SimContract.getTbCludecompany().getcComaddress());//需方地址
			tbCgcontract.setcFaxno(tP_SimContract.getTbCludecompany().getcComfaxno());//需方传真
//			tbCgcontract.setcSw10(tpCgorder.getcManor());//采购员
			tbCgcontract.setcCreater(user.getUserName());//创建人
			tbCgcontract.setcCreatetime(new Date());//创建时间
			tbCgcontract.setcState("3");// 合同状态
			tbCgcontractList.add(tbCgcontract);
//		}
		return tbCgcontractList;
	}

	/**
	 * 动态模板合同
	 * @param user
	 * @param tP_SimContract
	 * @param delInformation
	 * @param tpCgcontractmt
	 * @return
	 */
	public TpCgcontractmtt addTpCgcontractmt2(User user, TP_SimContract tP_SimContract, DelInformation delInformation,
			TpCgcontractmt tpCgcontractmt) {
		TpCgcontractmtt tpCgcontract = new TpCgcontractmtt();
		TpCgcontractmt data = tP_SimContract.getTpCgcontractmt();
		TpCgorderRequest tpCgorderRequest = tP_SimContract.getTpCgorderRequest().get(0);
		tpCgcontract.setcId(id);
		tpCgcontract.setcConnum(data.getcConnum().replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));//合同号
		//签订公司
		if(tpCgcontractmt.getcCludecom() == null) {
			tpCgcontract.setcCludecom("");
		}else {
			tpCgcontract.setcCludecom(tpCgcontractmt.getcCludecom());
		}
		//外贸合同号
		if(data.getcOutconnum()== null) {
			tpCgcontract.setcOutconnum("");
		}else {
			tpCgcontract.setcOutconnum(data.getcOutconnum().replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));
		}
		
		//签订地址
//		if(data.getcCludeaddr() == null) {
//			tpCgcontract.setcCludeaddr("");
//		}else {
//			tpCgcontract.setcCludeaddr(data.getcCludeaddr().replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));//签订地址
//		}
		if(data.getcSignplace() == null) {
			tpCgcontract.setcSignplace("");
		}else {
			tpCgcontract.setcSignplace(data.getcSignplace());//签订地址
		}
		//签订时间
		if(data.getcCludetime() == null) {
			tpCgcontract.setcCludetime(null);
		}else {
			tpCgcontract.setcCludetime(data.getcCludetime());
		}
		if(data.getcSupplier() == null) {
			tpCgcontract.setcSupplier("");
		}else {
			tpCgcontract.setcSupplier(data.getcSupplier());//供应商
		}
		if(tpCgorderRequest.getcGoodsname() == null) {
			tpCgcontract.setcSw03("");
		}else {
			tpCgcontract.setcSw03(tpCgorderRequest.getcGoodsname());// 货物名称
		}
		if(tpCgorderRequest.getcManor() == null) {
			tpCgcontract.setcSw10("");
		}else {
			tpCgcontract.setcSw10(tpCgorderRequest.getcManor());//采购员
		}
		
		if(tP_SimContract.getPaywayRequest().getcPayway()==null) {
			tpCgcontract.setcPayway("");
		}else {
			tpCgcontract.setcPayway(tP_SimContract.getPaywayRequest().getcPayway());//付款方式
		}
		Double dbValue = 0.000;
		for (TpCgorderRequest tpCgorder : tP_SimContract.getTpCgorderRequest()) {
			String getcSumprice = tpCgorder.getcSumprice();
			if(getcSumprice == null) {
				getcSumprice ="0.00";
			}
			System.out.println("getcSumprice::::"+getcSumprice);
			dbValue += Double.valueOf(getcSumprice).doubleValue();
//			intValue += Integer.valueOf(tpCgorder.getcSumprice()).intValue();
			System.out.println("合同金额累加:::"+dbValue);
		}
		System.out.println("合同金额::"+dbValue);
		tpCgcontract.setcConmoney(""+dbValue);
		//送/收货地点 目的地
		System.out.println("交货地点：：：：："+delInformation.getcDelivplace());
		if(delInformation.getcDelivplace() == null) {
			tpCgcontract.setcCludeaddr("");
			tpCgcontract.setcSw09("");
		}else {
			tpCgcontract.setcCludeaddr(delInformation.getcDelivplace());//交货地点
			tpCgcontract.setcSw09(delInformation.getcDelivplace());
		}
		// 验收方式
		tpCgcontract.setcCheckway("0");
		// 签字步骤-付款情况
		tpCgcontract.setcSignstep("0");
		// 运输方式-开票信息
		tpCgcontract.setcTransway("0");
		// 备注
		tpCgcontract.setcRemark(null);
		// 合同状态
		tpCgcontract.setcState("3");
		tpCgcontract.setcCreater(user.getUserName());
		// 创建时间
		tpCgcontract.setcCreatetime(new Date());
		// 外贸号-存档号
		tpCgcontract.setcSw05(tpCgorderRequest.getcNo());
		
		return tpCgcontract;
	}

	/**
	 * 动态版
	 * @param user
	 * @param tP_SimContract
	 * @param delInformation 
	 * @return
	 */
	public List<TbCgcontract> addTbCgcontract2(User user, TP_SimContract tP_SimContract, DelInformation delInformation) {
		//合同物资信息
		  List<TpCgorderRequest> tpCgorderRequest = tP_SimContract.getTpCgorderRequest();
		  //合同号等基本信息
		  TpCgcontractmt data = tP_SimContract.getTpCgcontractmt();
		  //供应商
		  TbSupplier tbSupplier = tP_SimContract.getTbSupplier();
		  //合同条款
		  CLAUSE_M1S1 clause_M1S1 = tP_SimContract.getClause_M1S1();
		  List<TbCgcontract> tbCgcontractList = new ArrayList<TbCgcontract>();
			TbCgcontract tbCgcontract = new TbCgcontract();
			//签订公司
			System.out.println("签订公司+++++++++++++"+data.getcCludecom());
			if(data.getcCludecom() == null) {
				tbCgcontract.setcCludecom("");
			}else {
				tbCgcontract.setcCludecom(data.getcCludecom());
			}
			//合同号
			if(data.getcConnum() == null) {
				tbCgcontract.setcConnum("");
			}else {
				tbCgcontract.setcConnum(data.getcConnum());
			}
			//签订地址
			if(data.getcCludeaddr() == null) {
				tbCgcontract.setcCludeaddr("");
			}else {
				tbCgcontract.setcCludeaddr(data.getcCludeaddr().replaceAll(" ", "").replaceAll("[\\r]", "").replaceAll("[\\n]", ""));
			}
			//签订时间
			tbCgcontract.setcCludetime(data.getcCludetime());
			//供应商
			if(data.getcSupplier() == null) {
				tbCgcontract.setcSupplier("");
			}else{
				tbCgcontract.setcSupplier(data.getcSupplier());
			}
			
//			if(tP_SimContract.getSignplaceRequest().getcSignplace()==null) {
//				tbCgcontract.setcSignplace("");
//			}else {
//				tbCgcontract.setcSignplace(tP_SimContract.getSignplaceRequest().getcSignplace());//验收地点
//			}
			//供应商账号号
			if(tbSupplier.getcAccountno()==null) {
				tbCgcontract.setcAccountnor("");
			}else {
				tbCgcontract.setcAccountnor(tbSupplier.getcAccountno());
			}
			//供应商地址
			if(tbSupplier.getcSupaddress() == null) {
				tbCgcontract.setcSupaddress("");
			}else {
				tbCgcontract.setcSupaddress(tbSupplier.getcSupaddress());
			}
			//供应商开户行
			if(tbSupplier.getcBankname()==null) {
				tbCgcontract.setcBanknamer("");
			}else {
				tbCgcontract.setcBanknamer(tbSupplier.getcBankname());
			}
			//供应商电话 
			if(tbSupplier.getcSupphone() == null) {
				tbCgcontract.setcSupphone("");
			}else {
				tbCgcontract.setcSupphone(tbSupplier.getcSupphone());
			}
			//供应商税号
			tbCgcontract.setcTaxnumber(tbSupplier.getcTaxnumber());
			//供应商传真
			tbCgcontract.setcFaxnor(tbSupplier.getcFaxno());
			//需方开户行
			tbCgcontract.setcBankname(tP_SimContract.getTbCludecompany().getcCombankname());
			//需方账号
			tbCgcontract.setcAccountno(tP_SimContract.getTbCludecompany().getcComaccountno());
			//需方税号
			tbCgcontract.setcTaxnumbe(tP_SimContract.getTbCludecompany().getcComtaxnumber());
			//需方电话
			tbCgcontract.setcPhoner(tP_SimContract.getTbCludecompany().getcComphone());
			//需方地址
			tbCgcontract.setcAddressr(tP_SimContract.getTbCludecompany().getcComaddress());
			//需方传真
			tbCgcontract.setcFaxno(tP_SimContract.getTbCludecompany().getcComfaxno());
//			tbCgcontract.setcSw10(tpCgorder.getcManor());//采购员
			//创建人
			tbCgcontract.setcCreater(user.getUserName());
			//创建时间
			tbCgcontract.setcCreatetime(new Date());
			// 合同状态
			tbCgcontract.setcState("3");
			
			String cDelivdate;//交货期限
			String cDelivplace;//交货地点
			String cPayway;//付款方式
			//交货期限
			if(tP_SimContract.getDelInformation().getcDelivdate() == null) {
				tbCgcontract.setcDelivdate("");
			}else {
				tbCgcontract.setcDelivdate(tP_SimContract.getDelInformation().getcDelivdate());
			}
			cDelivdate = tbCgcontract.getcDelivdate();
			//交货地点
			System.out.println("工具类交货地点：：："+tP_SimContract.getDelInformation().getcDelivplace());
			if(tP_SimContract.getDelInformation().getcDelivplace() == null) {
				tbCgcontract.setcDelivplace("");
			}else {
				tbCgcontract.setcDelivplace(tP_SimContract.getDelInformation().getcDelivplace());
			}
			cDelivplace = delInformation.getcDelivplace();
			//付款方式
			if(tP_SimContract.getPaywayRequest().getcPayway()==null) {
				tbCgcontract.setcPayway("");
			}else {
				tbCgcontract.setcPayway(tP_SimContract.getPaywayRequest().getcPayway());
			}
			cPayway = tbCgcontract.getcPayway();
			//合同模板类型
			if(clause_M1S1.getcContypeTpCgclausedata() == null) {
				tbCgcontract.setcContype("");
			}else {
				tbCgcontract.setcContype(clause_M1S1.getcContypeTpCgclausedata());
			}
			
//			if(clause_M1S1.getcSw01TpCgclausedata() == null) {
//				tbCgcontract.setcSw01("");
//			}else {
//				tbCgcontract.setcSw01(clause_M1S1.getcSw01TpCgclausedata());
//			}
			tbCgcontract.setcSw01(judgeUtil(clause_M1S1.getcSw01TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw02TpCgclausedata() == null) {
//				tbCgcontract.setcSw02("");
//			}else {
//				tbCgcontract.setcSw02(clause_M1S1.getcSw02TpCgclausedata());
//			}
			tbCgcontract.setcSw02(judgeUtil(clause_M1S1.getcSw02TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw03TpCgclausedata() == null ) {
//				tbCgcontract.setcSw03("");
//			}else {
//				tbCgcontract.setcSw03(clause_M1S1.getcSw03TpCgclausedata());
//			}
			tbCgcontract.setcSw03(judgeUtil(clause_M1S1.getcSw03TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw04TpCgclausedata() == null) {
//				tbCgcontract.setcSw04("");
//			}else {
//				tbCgcontract.setcSw04(clause_M1S1.getcSw04TpCgclausedata());
//			}
			tbCgcontract.setcSw04(judgeUtil(clause_M1S1.getcSw04TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw05TpCgclausedata() == null) {
//				tbCgcontract.setcSw05("");
//			}else {
//				tbCgcontract.setcSw05(clause_M1S1.getcSw05TpCgclausedata());
//			}
			tbCgcontract.setcSw05(judgeUtil(clause_M1S1.getcSw05TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw06TpCgclausedata() == null) {
//				tbCgcontract.setcSw06("");
//			}else {
//				tbCgcontract.setcSw06(clause_M1S1.getcSw06TpCgclausedata());
//			}
			tbCgcontract.setcSw06(judgeUtil(clause_M1S1.getcSw06TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw07TpCgclausedata() == null) {
//				tbCgcontract.setcSw07("");
//			}else {
//				tbCgcontract.setcSw07(clause_M1S1.getcSw07TpCgclausedata());
//			}
			tbCgcontract.setcSw07(judgeUtil(clause_M1S1.getcSw07TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw08TpCgclausedata() == null) {
//				tbCgcontract.setcSw08("");
//			}else {
//				tbCgcontract.setcSw08(clause_M1S1.getcSw08TpCgclausedata());
//			}
			tbCgcontract.setcSw08(judgeUtil(clause_M1S1.getcSw08TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw08TpCgclausedata() == null) {
//				tbCgcontract.setcSw09(clause_M1S1.getcSw08TpCgclausedata());
//			}else {
//				tbCgcontract.setcSw09(clause_M1S1.getcSw08TpCgclausedata());
//			}
			tbCgcontract.setcSw09(judgeUtil(clause_M1S1.getcSw09TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw10TpCgclausedata() == null) {
//				tbCgcontract.setcSw10(clause_M1S1.getcSw10TpCgclausedata());
//			}else {
//				tbCgcontract.setcSw10(clause_M1S1.getcSw10TpCgclausedata());
//			}
			tbCgcontract.setcSw10(judgeUtil(clause_M1S1.getcSw10TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw11TpCgclausedata() == null ) {
//				tbCgcontract.setcSw11("");
//			}else {
//				tbCgcontract.setcSw11(clause_M1S1.getcSw11TpCgclausedata());
//			}
			tbCgcontract.setcSw11(judgeUtil(clause_M1S1.getcSw11TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw12TpCgclausedata() == null) {
//				tbCgcontract.setcSw12("");
//			}else {
//				tbCgcontract.setcSw12(clause_M1S1.getcSw12TpCgclausedata());
//			}
			tbCgcontract.setcSw12(judgeUtil(clause_M1S1.getcSw12TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw13TpCgclausedata() == null) {
//				tbCgcontract.setcSw13("");
//			}else {
//				tbCgcontract.setcSw13(clause_M1S1.getcSw13TpCgclausedata());
//			}
			tbCgcontract.setcSw13(judgeUtil(clause_M1S1.getcSw13TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw14TpCgclausedata() == null) {
//				tbCgcontract.setcSw14("");
//			}else {
//				tbCgcontract.setcSw14(clause_M1S1.getcSw14TpCgclausedata());
//			}
			tbCgcontract.setcSw14(judgeUtil(clause_M1S1.getcSw14TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw15TpCgclausedata() == null) {
//				tbCgcontract.setcSw15("");
//			}else {
//				tbCgcontract.setcSw15(clause_M1S1.getcSw15TpCgclausedata());
//			}
			tbCgcontract.setcSw15(judgeUtil(clause_M1S1.getcSw15TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw16TpCgclausedata() == null) {
//				tbCgcontract.setcSw16("");
//			}else {
//				tbCgcontract.setcSw16(clause_M1S1.getcSw16TpCgclausedata());
//			}
			tbCgcontract.setcSw16(judgeUtil(clause_M1S1.getcSw16TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw17TpCgclausedata()== null) {
//				tbCgcontract.setcSw17("");
//			}else {
//				tbCgcontract.setcSw17(clause_M1S1.getcSw17TpCgclausedata());
//			}
			tbCgcontract.setcSw17(judgeUtil(clause_M1S1.getcSw17TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw18TpCgclausedata() == null) {
//				tbCgcontract.setcSw18("");
//			}else {
//				tbCgcontract.setcSw18(clause_M1S1.getcSw18TpCgclausedata());
//			}
			tbCgcontract.setcSw18(judgeUtil(clause_M1S1.getcSw18TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw19TpCgclausedata() == null) {
//				tbCgcontract.setcSw19("");
//			}else {
//				tbCgcontract.setcSw19(clause_M1S1.getcSw19TpCgclausedata());
//			}
			tbCgcontract.setcSw19(judgeUtil(clause_M1S1.getcSw19TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw20TpCgclausedata() == null) {
//				tbCgcontract.setcSw20("");
//			}else {
//				tbCgcontract.setcSw20(clause_M1S1.getcSw20TpCgclausedata());
//			}
			tbCgcontract.setcSw20(judgeUtil(clause_M1S1.getcSw20TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw21TpCgclausedata() == null) {
//				tbCgcontract.setcSw21("");
//			}else {
//				tbCgcontract.setcSw21(clause_M1S1.getcSw21TpCgclausedata());
//			}
			tbCgcontract.setcSw21(judgeUtil(clause_M1S1.getcSw21TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw22TpCgclausedata() == null) {
//				tbCgcontract.setcSw22("");
//			}else {
//				tbCgcontract.setcSw22(clause_M1S1.getcSw22TpCgclausedata());
//			}
			tbCgcontract.setcSw22(judgeUtil(clause_M1S1.getcSw22TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw23TpCgclausedata() == null) {
//				tbCgcontract.setcSw23("");
//			}else {
//				tbCgcontract.setcSw23(clause_M1S1.getcSw23TpCgclausedata());
//			}
			tbCgcontract.setcSw23(judgeUtil(clause_M1S1.getcSw23TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw24TpCgclausedata() == null) {
//				tbCgcontract.setcSw24("");
//			}else {
//				tbCgcontract.setcSw24(clause_M1S1.getcSw24TpCgclausedata());
//			}
			tbCgcontract.setcSw24(judgeUtil(clause_M1S1.getcSw24TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw25TpCgclausedata() == null) {
//				tbCgcontract.setcSw25("");
//			}else {
//				tbCgcontract.setcSw25(clause_M1S1.getcSw25TpCgclausedata());
//			}
			tbCgcontract.setcSw25(judgeUtil(clause_M1S1.getcSw25TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw26TpCgclausedata() == null) {
//				tbCgcontract.setcSw26("");
//			}else {
//				tbCgcontract.setcSw26(clause_M1S1.getcSw26TpCgclausedata());
//			}
			tbCgcontract.setcSw26(judgeUtil(clause_M1S1.getcSw26TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw27TpCgclausedata() == null) {
//				tbCgcontract.setcSw27("");
//			}else {
//				tbCgcontract.setcSw27(clause_M1S1.getcSw27TpCgclausedata());
//			}
			tbCgcontract.setcSw27(judgeUtil(clause_M1S1.getcSw27TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw28TpCgclausedata() == null) {
//				tbCgcontract.setcSw28("");
//			}else {
//				tbCgcontract.setcSw28(clause_M1S1.getcSw28TpCgclausedata());
//			}
			tbCgcontract.setcSw28(judgeUtil(clause_M1S1.getcSw28TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw29TpCgclausedata() == null) {
//				tbCgcontract.setcSw29("");
//			}else {
//				tbCgcontract.setcSw29(clause_M1S1.getcSw29TpCgclausedata());
//			}
			tbCgcontract.setcSw29(judgeUtil(clause_M1S1.getcSw29TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw30TpCgclausedata() == null) {
//				tbCgcontract.setcSw30("");
//			}else {
//				tbCgcontract.setcSw30(clause_M1S1.getcSw30TpCgclausedata());
//			}
			tbCgcontract.setcSw30(judgeUtil(clause_M1S1.getcSw30TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw31TpCgclausedata() == null) {
//				tbCgcontract.setcSw31("");
//			}else {
//				tbCgcontract.setcSw31(clause_M1S1.getcSw31TpCgclausedata());
//			}
			tbCgcontract.setcSw31(judgeUtil(clause_M1S1.getcSw31TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw32TpCgclausedata() == null) {
//				tbCgcontract.setcSw32("");
//			}else {
//				tbCgcontract.setcSw32(clause_M1S1.getcSw32TpCgclausedata());
//			}
			tbCgcontract.setcSw32(judgeUtil(clause_M1S1.getcSw32TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw33TpCgclausedata() == null) {
//				tbCgcontract.setcSw33("");
//			}else {
//				tbCgcontract.setcSw33(clause_M1S1.getcSw33TpCgclausedata());
//			}
			tbCgcontract.setcSw33(judgeUtil(clause_M1S1.getcSw33TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw34TpCgclausedata() == null) {
//				tbCgcontract.setcSw34("");
//			}else {
//				tbCgcontract.setcSw34(clause_M1S1.getcSw34TpCgclausedata());
//			}
			tbCgcontract.setcSw34(judgeUtil(clause_M1S1.getcSw34TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw35TpCgclausedata() == null) {
//				tbCgcontract.setcSw35("");
//			}else {
//				tbCgcontract.setcSw35(clause_M1S1.getcSw35TpCgclausedata());
//			}
			tbCgcontract.setcSw35(judgeUtil(clause_M1S1.getcSw35TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw36TpCgclausedata() == null) {
//				tbCgcontract.setcSw36("");
//			}else {
//				tbCgcontract.setcSw36(clause_M1S1.getcSw36TpCgclausedata());
//			}
			tbCgcontract.setcSw36(judgeUtil(clause_M1S1.getcSw36TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw37TpCgclausedata() == null) {
//				tbCgcontract.setcSw37("");
//			}else {
//				tbCgcontract.setcSw37(clause_M1S1.getcSw37TpCgclausedata());
//			}
			tbCgcontract.setcSw37(judgeUtil(clause_M1S1.getcSw37TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw38TpCgclausedata() == null) {
//				tbCgcontract.setcSw38("");
//			}else {
//				tbCgcontract.setcSw38(clause_M1S1.getcSw38TpCgclausedata());
//			}
			tbCgcontract.setcSw38(judgeUtil(clause_M1S1.getcSw38TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw39TpCgclausedata() == null) {
//				tbCgcontract.setcSw39("");
//			}else {
//				tbCgcontract.setcSw39(clause_M1S1.getcSw39TpCgclausedata());
//			}
			tbCgcontract.setcSw39(judgeUtil(clause_M1S1.getcSw39TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw40TpCgclausedata() == null) {
//				tbCgcontract.setcSw40("");
//			}else {
//				tbCgcontract.setcSw40(clause_M1S1.getcSw40TpCgclausedata());
//			}
			tbCgcontract.setcSw40(judgeUtil(clause_M1S1.getcSw40TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw41TpCgclausedata() == null) {
//				tbCgcontract.setcSw41("");
//			}else {
//				tbCgcontract.setcSw41(clause_M1S1.getcSw41TpCgclausedata());
//			}
			tbCgcontract.setcSw41(judgeUtil(clause_M1S1.getcSw41TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw42TpCgclausedata() == null) {
//				tbCgcontract.setcSw42("");
//			}else {
//				tbCgcontract.setcSw42(clause_M1S1.getcSw42TpCgclausedata());
//			}
			tbCgcontract.setcSw42(judgeUtil(clause_M1S1.getcSw42TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
//			if(clause_M1S1.getcSw43TpCgclausedata() == null) {
//				tbCgcontract.setcSw43("");
//			}else {
//				tbCgcontract.setcSw43(clause_M1S1.getcSw43TpCgclausedata());
//			}
			tbCgcontract.setcSw43(judgeUtil(clause_M1S1.getcSw43TpCgclausedata(),cDelivdate,cDelivplace,cPayway));
			
			tbCgcontractList.add(tbCgcontract);
			
//		}
		return tbCgcontractList;
	}

	private static String judgeUtil(String str, String cDelivdate,String cDelivplace,String cPayway) {
		if(str==null) {
			str ="";
		}else if(str.contains("交货期限")){
			str="1、交货期限: "+cDelivdate;
		}else if(str.contains("交货地点")) {
			str = "2、交货地点: " + cDelivplace;
		}else if(str.contains("付款方式")) {
			str = "1、付款方式: "+cPayway;
		}
		return str;
	}


}
